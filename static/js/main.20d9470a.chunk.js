(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,n,t){e.exports=t(70)},39:function(e,n,t){},44:function(e,n,t){},67:function(e,n){},70:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(29),r=t.n(i),c=(t(39),t(15)),u=t.n(c),s=t(30),d=t(1),l=t(31),w=t.n(l),m=t(32),v=t.n(m),p=(t(44),t(33)),f=t.n(p)()("https://young-gorge-52676.herokuapp.com",{query:{type:"controller"}}),y=0,b=(v.a.getParser(window.navigator.userAgent),function(){var e=!0,n=Object(o.useState)(),t=Object(d.a)(n,2)[1],i=Object(o.useState)(!1),r=Object(d.a)(i,2),c=r[0],l=r[1],m=Object(o.useState)("Please enter the clientId to pair controller"),v=Object(d.a)(m,2),p=v[0],b=v[1],k=Object(o.useState)(new Set),g=Object(d.a)(k,2),h=g[0],E=g[1],O=Object(o.useState)(""),j=Object(d.a)(O,2),C=j[0],S=j[1],x=Object(o.useState)(!1),P=Object(d.a)(x,2),I=P[0],L=P[1];function A(e){var n=e.beta||0,o=e.gamma||0;t([n,o]),f.emit("deviceOrientationChanged",{x:n/20,y:0})}function D(){l(!1),f.emit("restartGame")}function q(){return(q=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof window.DeviceMotionEvent.requestPermission){e.next=13;break}return e.prev=1,e.next=4,window.DeviceMotionEvent.requestPermission();case 4:"granted"===e.sent?window.addEventListener("deviceorientation",A):console.log("DeviceMotion permissions not granted."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=14;break;case 13:window.addEventListener("deviceorientation",A);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}return window.innerHeight>window.innerWidth&&(e=!1),Object(o.useEffect)(function(){var e=new w.a;window.addEventListener("keyup",function(e){h.has("keydown")&&(h.delete("keydown"),f.emit("deleteActiveInput",{inputType:"keydown"}),E(h))}),window.addEventListener("keydown",function(e){h.has("keydown")||(h.add("keydown"),f.emit("newActiveInput",{inputType:"keydown"}),E(h)),39===e.keyCode?(y<0&&(y=0),y<50&&y++):37===e.keyCode&&(y>0&&(y=0),y>-50&&y--),f.emit("deviceOrientationChanged",{x:y,y:0})}),f.on("controllerPairError",function(e){b(e.message)}),f.on("controllerPairSuccess",function(e){b("Controller Connected")}),f.on("restartGame",function(){l(!1)}),f.on("gameOver",function(){l(!0)}),document.addEventListener("click",function n(){document.removeEventListener("click",n,!1),e.enable()},!1)},[]),a.a.createElement("div",{className:"App"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f.emit("setAssociatedClientId",C)}},a.a.createElement("input",{name:"clientId",onChange:function(e){S(e.target.value)},value:C}),a.a.createElement("input",{onClick:function(){I||(function(){q.apply(this,arguments)}(),L(!0))},type:"submit",value:"Set Player Id"})),p,!e&&a.a.createElement("div",null,"Please turn your device!"),c?a.a.createElement("div",null,a.a.createElement("button",{onClick:D},"Restart Game")):null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.20d9470a.chunk.js.map